#!/usr/bin/env node

(async () => {
    const args = process.argv.slice(2)
    const { IPData } = require("../lib/ipdata")
    const ip = args[0] || undefined
    const apiKey = args[1] || process.env.APIDATA_API_KEY || undefined
    const ipdata = await new IPData(apiKey)
    const lookup = await ipdata.lookup(ip)
    console.log(`IPData lookup result: `, lookup)
})()
